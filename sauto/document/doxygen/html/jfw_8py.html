<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simple Automation Framework: /home/sprint/liyu/SAuto/sauto/build/lib/jfw.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Simple Automation Framework
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
   <div id="projectbrief">SAtuo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5b5a32210e6ed8e211c63ff4b123281f.html">SAuto</a></li><li class="navelem"><a class="el" href="dir_22e309334f2ded46d370747da94d2a09.html">sauto</a></li><li class="navelem"><a class="el" href="dir_0e22a41bae4baab016c88b128c5ca2d2.html">build</a></li><li class="navelem"><a class="el" href="dir_d9c0cf008ba711b4a3e128180c13a989.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">jfw.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Modules as well as CLI tools for remote JFW box control.  
<a href="#details">More...</a></p>

<p><a href="jfw_8py_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlib_1_1jfw_1_1_j_f_w.html">lib.jfw.JFW</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlib_1_1jfw_1_1_j_f_w.html" title="JFW Device Management Class defination.">JFW</a> Device Management Class defination.  <a href="classlib_1_1jfw_1_1_j_f_w.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a72d950b9eeb0c8b4a41225da3c38265d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#a72d950b9eeb0c8b4a41225da3c38265d">lib.jfw.loadConfig</a> (confPath='this_device_conf.json')</td></tr>
<tr class="memdesc:a72d950b9eeb0c8b4a41225da3c38265d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the device configuration from the given config file path.  <a href="jfw_8py.html#a72d950b9eeb0c8b4a41225da3c38265d">More...</a><br /></td></tr>
<tr class="separator:a72d950b9eeb0c8b4a41225da3c38265d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273089632361e2a8c91899be3928d15e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#a273089632361e2a8c91899be3928d15e">lib.jfw.loadSQLite</a> (jid, table_name=None, db_path=None)</td></tr>
<tr class="memdesc:a273089632361e2a8c91899be3928d15e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the device configuration from the given SQLite file path.  <a href="jfw_8py.html#a273089632361e2a8c91899be3928d15e">More...</a><br /></td></tr>
<tr class="separator:a273089632361e2a8c91899be3928d15e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af839ec767281b0e43d28abd4e39148da"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#af839ec767281b0e43d28abd4e39148da">lib.jfw.connectJFW</a> (command, delayTime=2, daemon=False)</td></tr>
<tr class="memdesc:af839ec767281b0e43d28abd4e39148da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to remote <a class="el" href="classlib_1_1jfw_1_1_j_f_w.html" title="JFW Device Management Class defination.">JFW</a> box and execute a command.  <a href="jfw_8py.html#af839ec767281b0e43d28abd4e39148da">More...</a><br /></td></tr>
<tr class="separator:af839ec767281b0e43d28abd4e39148da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2471606dd1931d5698023733ff83c3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#a2d2471606dd1931d5698023733ff83c3">lib.jfw.healthCheck</a> (command='RAA', daemon=False)</td></tr>
<tr class="memdesc:a2d2471606dd1931d5698023733ff83c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Health Check function for checking Attenuator Port(s) status.  <a href="jfw_8py.html#a2d2471606dd1931d5698023733ff83c3">More...</a><br /></td></tr>
<tr class="separator:a2d2471606dd1931d5698023733ff83c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0729095c52821d742ee5b822a16115ce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#a0729095c52821d742ee5b822a16115ce">lib.jfw.main</a> ()</td></tr>
<tr class="memdesc:a0729095c52821d742ee5b822a16115ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for provide the CLI tool.  <a href="jfw_8py.html#a0729095c52821d742ee5b822a16115ce">More...</a><br /></td></tr>
<tr class="separator:a0729095c52821d742ee5b822a16115ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abe3f66558fd4d126cb6fce33b4d71ab6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#abe3f66558fd4d126cb6fce33b4d71ab6">lib.jfw.ID</a> = 1</td></tr>
<tr class="memdesc:abe3f66558fd4d126cb6fce33b4d71ab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared variables.  <a href="jfw_8py.html#abe3f66558fd4d126cb6fce33b4d71ab6">More...</a><br /></td></tr>
<tr class="separator:abe3f66558fd4d126cb6fce33b4d71ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4363e4a9354c0db9b56bc43f485df9d"><td class="memItemLeft" align="right" valign="top"><a id="ae4363e4a9354c0db9b56bc43f485df9d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.NAME</b> = 'JFW1'</td></tr>
<tr class="separator:ae4363e4a9354c0db9b56bc43f485df9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e027d2d6b5785fca9325141e2355a3"><td class="memItemLeft" align="right" valign="top"><a id="a42e027d2d6b5785fca9325141e2355a3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.TCP_IP</b> = '10.155.227.81'</td></tr>
<tr class="separator:a42e027d2d6b5785fca9325141e2355a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f459ad975d8a4688592e3a702e80da"><td class="memItemLeft" align="right" valign="top"><a id="ae0f459ad975d8a4688592e3a702e80da"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.TCP_PORT</b> = 3001</td></tr>
<tr class="separator:ae0f459ad975d8a4688592e3a702e80da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f31e943aef19dc0120f836839ed7615"><td class="memItemLeft" align="right" valign="top"><a id="a7f31e943aef19dc0120f836839ed7615"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.LOCATION</b> = ''</td></tr>
<tr class="separator:a7f31e943aef19dc0120f836839ed7615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7ae7d99ab7bf60d8bd1a5cc4e0a6e2"><td class="memItemLeft" align="right" valign="top"><a id="ada7ae7d99ab7bf60d8bd1a5cc4e0a6e2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.STATUS</b> = 0</td></tr>
<tr class="separator:ada7ae7d99ab7bf60d8bd1a5cc4e0a6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc691bb2193566cb7671803ca29eaa0b"><td class="memItemLeft" align="right" valign="top"><a id="abc691bb2193566cb7671803ca29eaa0b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>lib.jfw.JFW_TABLE_NAME</b> = &quot;jfw&quot;</td></tr>
<tr class="separator:abc691bb2193566cb7671803ca29eaa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e6ca68a36696daf0660def6105de5a"><td class="memItemLeft" align="right" valign="top"><a id="a08e6ca68a36696daf0660def6105de5a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jfw_8py.html#a08e6ca68a36696daf0660def6105de5a">lib.jfw.path</a> = conf_file.read()</td></tr>
<tr class="memdesc:a08e6ca68a36696daf0660def6105de5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the default configuration from SAuto framework. <br /></td></tr>
<tr class="separator:a08e6ca68a36696daf0660def6105de5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Modules as well as CLI tools for remote JFW box control. </p>
<p>This modules contains the library for remote controling the JFW box and it is also a stand alone command line tool The library has to work with a proper configuration file in order to have the ip and port for the remote devices</p>
<dl class="section author"><dt>Author</dt><dd>Liyu Ying \email <a href="#" onclick="location.href='mai'+'lto:'+'lyi'+'ng'+'040'+'1@'+'gma'+'il'+'.co'+'m'; return false;">lying<span style="display: none;">.nosp@m.</span>0401<span style="display: none;">.nosp@m.</span>@gmai<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af839ec767281b0e43d28abd4e39148da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af839ec767281b0e43d28abd4e39148da">&#9670;&nbsp;</a></span>connectJFW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib.jfw.connectJFW </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>delayTime</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>daemon</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to remote JFW box and execute a command. </p>
<p>Remotely connecting to a JFW box using a Telnet connection. The IP address and Port was loaded by loadConfig/loadSQLite function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>either using the CLI with -e option or input as a parameter </td></tr>
    <tr><td class="paramname">delayTime</td><td>a delay time waiting response from telnet connection, default is 2 </td></tr>
    <tr><td class="paramname">daemon</td><td>define if the program will print the reuslt or not, default is False </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result the return value from command executed remotely</dd></dl>
<p>NOTE: due to legacy firmware version, set the Atten with command: SAR&lt;port&gt; </p>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00091">91</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
<a id="a2d2471606dd1931d5698023733ff83c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2471606dd1931d5698023733ff83c3">&#9670;&nbsp;</a></span>healthCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib.jfw.healthCheck </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command</em> = <code>'RAA'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>daemon</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Health Check function for checking Attenuator Port(s) status. </p>
<p>Remotely execute a read status command to a JFW box By default it is checking all attenuates, by explictly sending command to perform a single check on a certain port</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>default is RAA READ ALL ATTENUATES </td></tr>
    <tr><td class="paramname">daemon</td><td>default is False will print out the read results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result if anything goes wrong with the port, return False </dd></dl>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00119">119</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
<a id="a72d950b9eeb0c8b4a41225da3c38265d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d950b9eeb0c8b4a41225da3c38265d">&#9670;&nbsp;</a></span>loadConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib.jfw.loadConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>confPath</em> = <code>'this_device_conf.json'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the device configuration from the given config file path. </p>
<p>If the the config file path is not given, the program will tend to use the default path. The config file is a json file, loadConfig is looking for the key 'JFW' and get TCP IP address as well as the Port for the remote JFW box. If key is not found, a default value will be loaded NOTE: This function can be called explictly to load user configurations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">confPath</td><td>a string value contain the path to the json file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>config JSON object of JFW loaded from file </dd></dl>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00036">36</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
<a id="a273089632361e2a8c91899be3928d15e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273089632361e2a8c91899be3928d15e">&#9670;&nbsp;</a></span>loadSQLite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib.jfw.loadSQLite </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>jid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>table_name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>db_path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the device configuration from the given SQLite file path. </p>
<p>If the SQLite file path is not give, default SQLite data path will be load if the data (ip and port) in the database is not set, the program will use the default value instead NOTE: This function can be called explictly to load configuration</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jid</td><td>the id for a perticular JFW device in SQLite database </td></tr>
    <tr><td class="paramname">table_name</td><td>the sqlite table name for jfw </td></tr>
    <tr><td class="paramname">db_path</td><td>the path of the SQLite database file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>config JSON object of JFW loaded from file </dd></dl>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00064">64</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
<a id="a0729095c52821d742ee5b822a16115ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0729095c52821d742ee5b822a16115ce">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib.jfw.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function for provide the CLI tool. </p>
<p>The main function using the argparse module to allow command line optional argument run the command: ./jfw.py -h or &ndash;help for instructions </p>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00350">350</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abe3f66558fd4d126cb6fce33b4d71ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe3f66558fd4d126cb6fce33b4d71ab6">&#9670;&nbsp;</a></span>ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lib.jfw.ID = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TCP_IP</td><td>the ip address of the remote device </td></tr>
    <tr><td class="paramname">TCP_PORT</td><td>the port of the remote device \function <a class="el" href="jfw_8py.html#a72d950b9eeb0c8b4a41225da3c38265d" title="Load the device configuration from the given config file path.">loadConfig()</a> load the default configuration when loading this module</td></tr>
  </table>
  </dd>
</dl>
<p>Load Config File ######################### </p>

<p class="definition">Definition at line <a class="el" href="jfw_8py_source.html#l00387">387</a> of file <a class="el" href="jfw_8py_source.html">jfw.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
