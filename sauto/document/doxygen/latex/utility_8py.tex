\hypertarget{utility_8py}{}\doxysection{/home/sprint/liyu/\+S\+Auto/sauto/build/lib/utility.py File Reference}
\label{utility_8py}\index{/home/sprint/liyu/SAuto/sauto/build/lib/utility.py@{/home/sprint/liyu/SAuto/sauto/build/lib/utility.py}}


Utility tools for automation.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{utility_8py_a8405371f9d07ea363731a4a13afe7cc9}{lib.\+utility.\+info}} (message, track=False)
\begin{DoxyCompactList}\small\item\em Print method with colored tag and timestamp for automation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{utility_8py_ada1af42c1e00a22a8655107034c64f06}\label{utility_8py_ada1af42c1e00a22a8655107034c64f06}} 
def {\bfseries lib.\+utility.\+debug} (message, track=True)
\item 
\mbox{\Hypertarget{utility_8py_a83b8147b495f08193e4c53949edf6944}\label{utility_8py_a83b8147b495f08193e4c53949edf6944}} 
def {\bfseries lib.\+utility.\+warn} (message, track=True)
\item 
\mbox{\Hypertarget{utility_8py_a8b4e12b38498d4f062746b1ec5588122}\label{utility_8py_a8b4e12b38498d4f062746b1ec5588122}} 
def {\bfseries lib.\+utility.\+notify} (message)
\item 
\mbox{\Hypertarget{utility_8py_a46b12f853b5ba7ef31a2f74f82df031c}\label{utility_8py_a46b12f853b5ba7ef31a2f74f82df031c}} 
def {\bfseries lib.\+utility.\+error} (message, track=True)
\item 
\mbox{\Hypertarget{utility_8py_a6d9b8311ee1520ed4f0922c89de80e20}\label{utility_8py_a6d9b8311ee1520ed4f0922c89de80e20}} 
def {\bfseries lib.\+utility.\+pp} (message, track=False)
\item 
\mbox{\Hypertarget{utility_8py_a79e66bd064606cb8cf14cbcff651a3c8}\label{utility_8py_a79e66bd064606cb8cf14cbcff651a3c8}} 
def {\bfseries lib.\+utility.\+get\+Date} ()
\item 
\mbox{\Hypertarget{utility_8py_a3ae0e5dedfe67d803b5765ea0049d0d8}\label{utility_8py_a3ae0e5dedfe67d803b5765ea0049d0d8}} 
def {\bfseries lib.\+utility.\+get\+Time} ()
\item 
\mbox{\Hypertarget{utility_8py_a7113eef1bba566c214a746be8f73ddc9}\label{utility_8py_a7113eef1bba566c214a746be8f73ddc9}} 
def \mbox{\hyperlink{utility_8py_a7113eef1bba566c214a746be8f73ddc9}{lib.\+utility.\+P\+A\+SS}} (message=None, result=None, track=False)
\begin{DoxyCompactList}\small\item\em Pass/\+Fail Methods \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{utility_8py_ab54bfd194714c8319227c642a5cf355f}\label{utility_8py_ab54bfd194714c8319227c642a5cf355f}} 
def {\bfseries lib.\+utility.\+F\+A\+IL} (message=None, result=None, track=False)
\item 
\mbox{\Hypertarget{utility_8py_ae0305145dbb48bc7aac42f7f8800d77a}\label{utility_8py_ae0305145dbb48bc7aac42f7f8800d77a}} 
def {\bfseries lib.\+utility.\+N\+O\+T\+I\+CE} (message=None, result=None, track=False)
\item 
\mbox{\Hypertarget{utility_8py_a830f59a0b516f1ef2d2ab3de1eb4e6d7}\label{utility_8py_a830f59a0b516f1ef2d2ab3de1eb4e6d7}} 
def {\bfseries lib.\+utility.\+S\+U\+M\+M\+A\+RY} ()
\item 
\mbox{\Hypertarget{utility_8py_a4afa7068bcd83550d58144cea9b0abdd}\label{utility_8py_a4afa7068bcd83550d58144cea9b0abdd}} 
def {\bfseries lib.\+utility.\+F\+A\+I\+L\+S\+U\+M\+M\+A\+RY} ()
\item 
def \mbox{\hyperlink{utility_8py_a97a5fe6055f2c57263288a105fd02681}{lib.\+utility.\+str\+To\+Dict}} (string)
\begin{DoxyCompactList}\small\item\em T\+O\+DO\+: resource monitor Jenkins resourcelock Controller tracking resource usage Controller need to provide a scheduling helper for users. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_a4c4f3b6aa73a16cef258ae1986567048}{lib.\+utility.\+systemcall}} (command, message=\textquotesingle{}\textquotesingle{}, get\+Std\+Out=False, daemon=False)
\begin{DoxyCompactList}\small\item\em System Call to execute any commands under Unix system. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_a368772fdb37082894246f0c42ffc8b7e}{lib.\+utility.\+sleep}} (seconds, daemon=False)
\begin{DoxyCompactList}\small\item\em sleep method for system to waiting for $<$seconds$>$ \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_aad1c0165d23b57d5bbae11677d52a0d7}{lib.\+utility.\+get\+Request}} (url, daemon=False)
\begin{DoxyCompactList}\small\item\em R\+E\+ST Requests methods are used to send different R\+E\+ST requests using requests package. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{utility_8py_a036b68b557e521a575d76367d0719ced}\label{utility_8py_a036b68b557e521a575d76367d0719ced}} 
def {\bfseries lib.\+utility.\+post\+Request} (url, daemon=False)
\item 
\mbox{\Hypertarget{utility_8py_ad9e80a5426544d66d70e200bd93ae504}\label{utility_8py_ad9e80a5426544d66d70e200bd93ae504}} 
def {\bfseries lib.\+utility.\+delete\+Request} (url, daemon=False)
\item 
def \mbox{\hyperlink{utility_8py_ace7ebb8cd6413a07f88ec8689e4c970d}{lib.\+utility.\+regex\+Parser}} (message, regex, daemon=False)
\begin{DoxyCompactList}\small\item\em Regular Expression methods for string parsing. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{utility_8py_aa4eba3931058cbd76933ea8968c767c3}\label{utility_8py_aa4eba3931058cbd76933ea8968c767c3}} 
def {\bfseries lib.\+utility.\+regex} (message, regex)
\item 
def \mbox{\hyperlink{utility_8py_a59c6c0ec5aa54abbcd7b19937432c473}{lib.\+utility.\+report\+Generator}} (json=None, titles=None, path=None, daemon=False)
\begin{DoxyCompactList}\small\item\em Generate a C\+SV report based on the given json and title. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_afbe88936154d824e04251a884048ba92}{lib.\+utility.\+report\+Generator\+Jenkins}} (json=None, titles=None, path=None, daemon=False)
\begin{DoxyCompactList}\small\item\em Generate a Jenkins plot C\+SV report based on the given json and title. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_a65b1aa6a4cf4d27ff24186e860f971e4}{lib.\+utility.\+write\+J\+S\+ON}} (input\+J\+S\+ON=None, path=None, name=None, daemon=False)
\begin{DoxyCompactList}\small\item\em write the json/dictionary object input to a given file path \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_a6068e82736da01dd08d0d47813f4ab27}{lib.\+utility.\+write\+File}} (content=\textquotesingle{}\textquotesingle{}, path=None, name=None, daemon=False)
\begin{DoxyCompactList}\small\item\em write the content input to a given file path \end{DoxyCompactList}\item 
def \mbox{\hyperlink{utility_8py_ad8f95b2b7e76307216e222efc9dec557}{lib.\+utility.\+load\+Config}} (conf\+Path)
\begin{DoxyCompactList}\small\item\em open the json file and try to return the json read \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{utility_8py_a7eb90fecbbe9872b4276b5757e15277f}\label{utility_8py_a7eb90fecbbe9872b4276b5757e15277f}} 
int \mbox{\hyperlink{utility_8py_a7eb90fecbbe9872b4276b5757e15277f}{lib.\+utility.\+pass\+Counter}} = 0
\begin{DoxyCompactList}\small\item\em Golbal Pass/\+Fail Counter \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{utility_8py_a765cca334dbcd514a5a5e368df6c0a5c}\label{utility_8py_a765cca334dbcd514a5a5e368df6c0a5c}} 
int {\bfseries lib.\+utility.\+fail\+Counter} = 0
\item 
\mbox{\Hypertarget{utility_8py_a13250bcb9828145f77766d7a5821c6ff}\label{utility_8py_a13250bcb9828145f77766d7a5821c6ff}} 
list {\bfseries lib.\+utility.\+summary} = \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Utility tools for automation. 

Utility modules contains the library for utility tools for automations List of basic tools\+: Print Methods R\+E\+ST requests A\+PI Regular Expression

\begin{DoxyAuthor}{Author}
Liyu Ying \textbackslash{}email \href{mailto:lying0401@gmail.com}{\texttt{ lying0401@gmail.\+com}} 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{utility_8py_aad1c0165d23b57d5bbae11677d52a0d7}\label{utility_8py_aad1c0165d23b57d5bbae11677d52a0d7}} 
\index{utility.py@{utility.py}!getRequest@{getRequest}}
\index{getRequest@{getRequest}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{getRequest()}{getRequest()}}
{\footnotesize\ttfamily def lib.\+utility.\+get\+Request (\begin{DoxyParamCaption}\item[{}]{url,  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



R\+E\+ST Requests methods are used to send different R\+E\+ST requests using requests package. 

R\+E\+ST Requests methods are used for sending different R\+E\+ST requests A list of requests\+: G\+ET -\/ get\+Request P\+O\+ST -\/ post\+Request D\+E\+L\+E\+TE -\/ delete\+Request


\begin{DoxyParams}{Parameters}
{\em url} & the url address with query to the R\+E\+ST service \\
\hline
{\em daemon} & weather to print out info message, default is False \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
json format R\+E\+ST response N\+O\+TE\+: for airmosaic, using pylsuweb module instead
\end{DoxyReturn}
R\+E\+ST Requests \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# 

Definition at line 247 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a8405371f9d07ea363731a4a13afe7cc9}\label{utility_8py_a8405371f9d07ea363731a4a13afe7cc9}} 
\index{utility.py@{utility.py}!info@{info}}
\index{info@{info}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{info()}{info()}}
{\footnotesize\ttfamily def lib.\+utility.\+info (\begin{DoxyParamCaption}\item[{}]{message,  }\item[{}]{track = {\ttfamily False} }\end{DoxyParamCaption})}



Print method with colored tag and timestamp for automation. 

The print methods are used for replacing the python print All print methods will print out a colored tag and timestamp when called All print methods has an optional argument \char`\"{}track\char`\"{}


\begin{DoxyParams}{Parameters}
{\em message} & the string will be print out to stdout \\
\hline
{\em track} & a boolean to define weather printing out traceback information, set True to print\\
\hline
\end{DoxyParams}
Print Methods \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# 

Definition at line 48 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_ad8f95b2b7e76307216e222efc9dec557}\label{utility_8py_ad8f95b2b7e76307216e222efc9dec557}} 
\index{utility.py@{utility.py}!loadConfig@{loadConfig}}
\index{loadConfig@{loadConfig}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{loadConfig()}{loadConfig()}}
{\footnotesize\ttfamily def lib.\+utility.\+load\+Config (\begin{DoxyParamCaption}\item[{}]{conf\+Path }\end{DoxyParamCaption})}



open the json file and try to return the json read 


\begin{DoxyParams}{Parameters}
{\em conf\+Path} & the path of the input file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
json object, if any exception raised, return a json with \textquotesingle{}error\textquotesingle{} key 
\end{DoxyReturn}


Definition at line 529 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_ace7ebb8cd6413a07f88ec8689e4c970d}\label{utility_8py_ace7ebb8cd6413a07f88ec8689e4c970d}} 
\index{utility.py@{utility.py}!regexParser@{regexParser}}
\index{regexParser@{regexParser}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{regexParser()}{regexParser()}}
{\footnotesize\ttfamily def lib.\+utility.\+regex\+Parser (\begin{DoxyParamCaption}\item[{}]{message,  }\item[{}]{regex,  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



Regular Expression methods for string parsing. 

regex\+Parser -\/ return the first match group of the string regex -\/ return all matches as a list


\begin{DoxyParams}{Parameters}
{\em messge} & the input original message \\
\hline
{\em regex} & the rule for regex parser\\
\hline
\end{DoxyParams}
Regex \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# 

Definition at line 280 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a59c6c0ec5aa54abbcd7b19937432c473}\label{utility_8py_a59c6c0ec5aa54abbcd7b19937432c473}} 
\index{utility.py@{utility.py}!reportGenerator@{reportGenerator}}
\index{reportGenerator@{reportGenerator}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{reportGenerator()}{reportGenerator()}}
{\footnotesize\ttfamily def lib.\+utility.\+report\+Generator (\begin{DoxyParamCaption}\item[{}]{json = {\ttfamily None},  }\item[{}]{titles = {\ttfamily None},  }\item[{}]{path = {\ttfamily None},  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



Generate a C\+SV report based on the given json and title. 

Generate a C\+SV file with the given title list, load the content of the json input and fill the column If the json does not have the title, write \textquotesingle{}\textquotesingle{} (empty string) If the C\+SV file already exist, append the json content to the end. If title does not match, throw exception


\begin{DoxyParams}{Parameters}
{\em json} & The json object contains the row contents \\
\hline
{\em titles} & A string list of title \\
\hline
{\em path} & The path to the log file \\
\hline
{\em daemon} & Print out the info message if set False, default value is False \\
\hline
\end{DoxyParams}


Definition at line 310 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_afbe88936154d824e04251a884048ba92}\label{utility_8py_afbe88936154d824e04251a884048ba92}} 
\index{utility.py@{utility.py}!reportGeneratorJenkins@{reportGeneratorJenkins}}
\index{reportGeneratorJenkins@{reportGeneratorJenkins}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{reportGeneratorJenkins()}{reportGeneratorJenkins()}}
{\footnotesize\ttfamily def lib.\+utility.\+report\+Generator\+Jenkins (\begin{DoxyParamCaption}\item[{}]{json = {\ttfamily None},  }\item[{}]{titles = {\ttfamily None},  }\item[{}]{path = {\ttfamily None},  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



Generate a Jenkins plot C\+SV report based on the given json and title. 

Generate a C\+SV file with the given title list, load the content of the json input and fill the column If the json does not have the title, write \textquotesingle{}\textquotesingle{} (empty string) If the C\+SV file already exist, append the json content to the end. If title does not match, throw exception


\begin{DoxyParams}{Parameters}
{\em json} & The json object contains the row contents \\
\hline
{\em titles} & A string list of title \\
\hline
{\em path} & The path to the log file \\
\hline
{\em daemon} & Print out the info message if set False, default value is False \\
\hline
\end{DoxyParams}


Definition at line 392 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a368772fdb37082894246f0c42ffc8b7e}\label{utility_8py_a368772fdb37082894246f0c42ffc8b7e}} 
\index{utility.py@{utility.py}!sleep@{sleep}}
\index{sleep@{sleep}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{sleep()}{sleep()}}
{\footnotesize\ttfamily def lib.\+utility.\+sleep (\begin{DoxyParamCaption}\item[{}]{seconds,  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



sleep method for system to waiting for $<$seconds$>$ 

waiting for given $<$seconds$>$


\begin{DoxyParams}{Parameters}
{\em seconds} & waiting time for \mbox{\hyperlink{utility_8py_a368772fdb37082894246f0c42ffc8b7e}{sleep()}} \\
\hline
{\em daemon} & print out info message if set False, default is False \\
\hline
\end{DoxyParams}


Definition at line 227 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a97a5fe6055f2c57263288a105fd02681}\label{utility_8py_a97a5fe6055f2c57263288a105fd02681}} 
\index{utility.py@{utility.py}!strToDict@{strToDict}}
\index{strToDict@{strToDict}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{strToDict()}{strToDict()}}
{\footnotesize\ttfamily def lib.\+utility.\+str\+To\+Dict (\begin{DoxyParamCaption}\item[{}]{string }\end{DoxyParamCaption})}



T\+O\+DO\+: resource monitor Jenkins resourcelock Controller tracking resource usage Controller need to provide a scheduling helper for users. 

T\+O\+DO\+: Valid Inputa warper function for ast.\+literal\+\_\+eval

Parsing the dictionary like string (or json string) to a dictionary without J\+S\+ON package Safely evaluate an expression node or a string containing a python expression


\begin{DoxyParams}{Parameters}
{\em string} & The input string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the dictionary object 
\end{DoxyReturn}


Definition at line 195 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a4c4f3b6aa73a16cef258ae1986567048}\label{utility_8py_a4c4f3b6aa73a16cef258ae1986567048}} 
\index{utility.py@{utility.py}!systemcall@{systemcall}}
\index{systemcall@{systemcall}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{systemcall()}{systemcall()}}
{\footnotesize\ttfamily def lib.\+utility.\+systemcall (\begin{DoxyParamCaption}\item[{}]{command,  }\item[{}]{message = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{get\+Std\+Out = {\ttfamily False},  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



System Call to execute any commands under Unix system. 

Execute the given command in the kernel system


\begin{DoxyParams}{Parameters}
{\em command} & string of the command \\
\hline
{\em message} & if daemon is set False, print out this message in info \\
\hline
{\em get\+Std\+Out} & return stdout instead of return code \\
\hline
{\em daemon} & print out info message if set False, default is False \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
system call return code or stdout if get\+Std\+Out set True 
\end{DoxyReturn}


Definition at line 210 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a6068e82736da01dd08d0d47813f4ab27}\label{utility_8py_a6068e82736da01dd08d0d47813f4ab27}} 
\index{utility.py@{utility.py}!writeFile@{writeFile}}
\index{writeFile@{writeFile}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{writeFile()}{writeFile()}}
{\footnotesize\ttfamily def lib.\+utility.\+write\+File (\begin{DoxyParamCaption}\item[{}]{content = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{path = {\ttfamily None},  }\item[{}]{name = {\ttfamily None},  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



write the content input to a given file path 

Write the input content into to a file with the given path. If the path is None, throw exception and increment the failure counter Create the path folder if is not been created Log will be saved under the log path and put in a folder with the current date Log file will be name with the created \mbox{[}name\mbox{]} format Log will override the file if file exists


\begin{DoxyParams}{Parameters}
{\em content} & input string \\
\hline
{\em path} & The Path to the log file, a folder will be created with the current date if not created \\
\hline
{\em name} & The name of the log file, the log file will be saved under the date folder being created \\
\hline
{\em daemon} & Print out the message if set False, default is False \\
\hline
\end{DoxyParams}


Definition at line 506 of file utility.\+py.

\mbox{\Hypertarget{utility_8py_a65b1aa6a4cf4d27ff24186e860f971e4}\label{utility_8py_a65b1aa6a4cf4d27ff24186e860f971e4}} 
\index{utility.py@{utility.py}!writeJSON@{writeJSON}}
\index{writeJSON@{writeJSON}!utility.py@{utility.py}}
\doxysubsubsection{\texorpdfstring{writeJSON()}{writeJSON()}}
{\footnotesize\ttfamily def lib.\+utility.\+write\+J\+S\+ON (\begin{DoxyParamCaption}\item[{}]{input\+J\+S\+ON = {\ttfamily None},  }\item[{}]{path = {\ttfamily None},  }\item[{}]{name = {\ttfamily None},  }\item[{}]{daemon = {\ttfamily False} }\end{DoxyParamCaption})}



write the json/dictionary object input to a given file path 

load the input\+J\+S\+ON object, and write it to a file with the given path. If the input\+J\+S\+ON is None, throw excepiton and increment the failure counter If the path is None, throw exception and increment the failure counter Create the path folder if is not been created Log will be saved under the log path and put in a folder with the current date Log file will be name with the created \mbox{[}time + name\mbox{]} format


\begin{DoxyParams}{Parameters}
{\em input\+J\+S\+ON} & input either json object or dictionary or json like string \\
\hline
{\em path} & The Path to the log file, a folder will be created with the current date if not created \\
\hline
{\em name} & The name of the log file, the log file will be saved under the date folder being created \\
\hline
{\em daemon} & Print out the message if set False, default is False \\
\hline
\end{DoxyParams}


Definition at line 470 of file utility.\+py.

